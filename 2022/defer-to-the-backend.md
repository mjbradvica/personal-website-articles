<!-- keep logic out of front end, harder to test -->